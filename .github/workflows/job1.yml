name: job 1

on:
  workflow_dispatch:
    inputs:
      environment:
        type: choice
        description: select the environment
        required: true
        default: qual
        options:
         - qual
         - cert
  schedule:
    - cron: '*/5 * * * *'
env:
    ARN_NAME: AWS_CERT_ENV
    other_env: cert
jobs:
  job1:
    runs-on: [ubuntu-latest]
    env:
            ARN_NAME: AWS_CERT_ENV_1
    steps:
      - name: step1
        run: |
          echo "Enviornment is ${{github.event.inputs.environment}}"
          echo "Hello from job1 ${{env.ARN_NAME}}"
          echo "other env is ${{env.other_env}}"
          
       
  job2:
    needs: job1
    if: ${{ github.event.inputs.environment == 'cert'}}
    uses:  shubhamPatkar/Smart-Parking/.github/workflows/job2.yml@main
#     with:
#         inputs: '{"environment": "cert"}'
        
  job3:
    needs: job2
    runs-on: [ubuntu-latest]
    steps:
      - name: step1
        run: |
          echo "Enviornment is ${{github.event.inputs.environment}}"
          echo "Hello from job3 ${{env.ARN_NAME}}"
          echo "other env is ${{env.other_env}}"
          
  job4:
    needs: job3
    runs-on: [ubuntu-latest]
    steps:
      - name: step1
        run: |
          echo "Hello from job3 ${{env.ARN_NAME}}"
          echo "other env is ${{env.other_env}}"
          
#     with:
#       ARN_Name: AWS_cert_Name
#     runs-on: [ubuntu-latest]
#     steps:
#       - name: Step1
#         run: echo "hello from job1" 
  
#       - name: Call job2 
#         uses:  shubhamPatkar/Smart-Parking/.github/workflows/job2.yml@main
       
